/*! Mindcache 2014-11-24 */
function setActivePost(a,b,c){a.post=c,a.trustedContent=b.trustAsHtml(c.content)}angular.module("projectX",["ui.router","ngResource","ngSanitize","ngAnimate"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/home"),a.state("blog",{url:"/blog",views:{"":{templateUrl:"app/blog/blog.html"},"list@blog":{templateUrl:"app/blog/list/list.html",controller:"PostsController"},"post@blog":{templateUrl:"app/blog/post/post.html",controller:"LatestPostCtrl"}}}).state("blog.post",{url:"/post/{postUrlId}",views:{"post@blog":{templateUrl:"app/blog/post/post.html",controller:"PostCtrl"}}}).state("home",{url:"/home",views:{"":{templateUrl:"app/home/home.html"},"news@home":{templateUrl:"app/home/news/news.html",controller:"NewsCtrl"}}}).state("tutor",{url:"/howtos",views:{"":{template:"<div ui-view='mainview' class='module main-brdr module-tutor main-bgclr-alt'></div>"},"mainview@tutor":{controller:"TutorsController",templateUrl:"app/tutorials/tutorials.html"}}}).state("tutor.display",{url:"^/howto/:urlId",views:{"mainview@tutor":{controller:"TutorCtrl",templateUrl:"app/tutorials/tutorial/tutorial.html"}}}).state("contact",{url:"/contact",controller:"ContactsCtrl",templateUrl:"app/contact/contact.html"}).state("projects",{url:"/projects",views:{"":{template:'<div ui-view="view" class="module main-brdr module-projects main-bgclr-alt"></div>'},"view@projects":{templateUrl:"app/projects/list/list.html",controller:"ProjectsListCtrl"}}}).state("projects.project",{url:"^/project/:projectId",views:{"view@projects":{templateUrl:"app/projects/project/project.html",controller:"ProjectCtrl"}}}).state("about",{url:"/about",templateUrl:"app/about/about.html"})}]),angular.module("projectX").controller("PostsController",["$scope","BlogService",function(a,b){a.posts=b.query({fields:"url_id date title"})}]),angular.module("projectX").factory("BlogService",["$resource",function(a){var b=a("/server/api/post/:postUrlId",{},{getLatest:{url:"/server/api/post/latest",isArray:!1}});return b}]),angular.module("projectX").controller("PostCtrl",["$scope","$stateParams","BlogService","$sce",function(a,b,c,d){c.get({postUrlId:b.postUrlId},function(b){setActivePost(a,d,b)})}]),angular.module("projectX").controller("LatestPostCtrl",["$scope","$state","$sce","BlogService",function(a,b,c,d){d.getLatest(function(d){setActivePost(a,c,d),b.go(".post",{postUrlId:d.url_id},{notify:!1})})}]),angular.module("projectX").controller("ContactsCtrl",["$scope","$state","$timeout","MessageService",function(a,b,c,d){a.saving=!1,a.message={},a.send=function(){a.saving=!0,d.save(a.message,function(b){b.success&&(a.message={},a.contactForm.$setPristine(),c(function(){a.saving=!1},1e3))})}}]),angular.module("projectX").factory("MessageService",["$resource",function(a){var b=a("/server/api/message/",{});return b}]),angular.module("projectX").controller("NewsCtrl",["$scope","NewsService","$stateParams",function(a,b){a.news=b.query()}]),angular.module("projectX").factory("NewsService",["$resource",function(a){var b=a("/server/api/news/:newsId",{});return b}]),angular.module("projectX").controller("ProjectsListCtrl",["$scope","ProjectsService",function(a,b){a.projects=b.query()}]),angular.module("projectX").controller("ProjectCtrl",["$scope","ProjectsService","$stateParams",function(a,b,c){a.project=b.get({projectId:c.projectId})}]),angular.module("projectX").factory("ProjectsService",["$resource",function(a){var b=a("/server/api/project/:projectId",{});return b}]),angular.module("projectX").controller("TutorCtrl",["$scope","TutorService","$stateParams",function(a,b,c){a.tutorial=b.get({urlId:c.urlId})}]),angular.module("projectX").factory("TutorService",["$resource",function(a){var b=a("/server/api/tutorial/:urlId",{});return b}]),angular.module("projectX").controller("TutorsController",["$scope","TutorService",function(a,b){a.order="date",a.reverse=!1,a.search={},a.categories=[],a.tutorials=b.query(function(b){for(var c,d=b.length,e=[],f={};d--;)c=b[d].category,f[c]||(f[c]=!0,e.push({name:b[d].category}));a.categories=e})}]),angular.module("projectX").directive("backButton",["$window",function(a){return{restrict:"A",link:function(b,c){function d(){a.history.back()}c.bind("click",d),c.addClass("back-btn")}}}]),angular.module("projectX").controller("NavigatorController",["$scope","NavigationService","$location",function(a,b){var c=b.getMainNavItems();a.categories=c}]),angular.module("projectX").factory("NavigationService",function(){var a={};return a.getMainNavItems=function(){return[{name:"HOME",sref:"home",text:" ",css:"home icon-home"},{name:"Blog"},{name:"Projects"},{name:"How To's",sref:"tutor"},{name:"Contact"},{name:"About"}]},a}),angular.module("projectX").directive("sitesForSharing",["$location",function(a){function b(){var a=addthis&&addthis.layers.refresh;a&&a()}return{restrict:"E",template:function(b,c){var d='<div class="addthis_sharing_toolbox sharing" ';return"base"===c.url&&(d+='data-url="'+a.host()+'"'),d+="></div>"},link:b}}]);